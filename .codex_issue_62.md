# Issue #62: [Risk] Add risk config schema + validation

---

Summary
Extend config.json with a top‑level "risk" section and add validation. Include defaults. Wire into CLI overrides in trading_bot/main.py. Current config already supports runtime overrides; use that pattern. Overview

Config shape (proposed)

json
Copy
"risk": {
  "fees_bps": 10,                  // 0.10%
  "slippage_bps": 5,               // 0.05%
  "position_sizing": {
    "mode": "fixed_fraction",      // fixed_fraction | fixed_cash | risk_per_trade
    "fraction_of_equity": 0.10,    // used when mode=fixed_fraction
    "fixed_cash_amount": 100.0,    // used when mode=fixed_cash
    "risk_pct": 0.01               // used when mode=risk_per_trade
  },
  "stops": {
    "stop_loss": {"type": "percent", "value": 0.02},
    "take_profit": {"type": "rr", "rr": 2.0},  // target = entry + rr * (entry - stop)
    "trailing": {"enabled": true, "trail_pct": 0.02}
  },
  "max_drawdown": {
    "monthly_pct": 0.10,
    "cooldown_bars": 0
  }
}
Implementation outline

Create trading_bot/risk_config.py with dataclasses / pydantic‑style validation (no new deps unless already used).

Load/merge defaults with config.json and CLI args in trading_bot/main.py.

Expose a get_risk_config() helper anywhere strategies/backtester need it.

Acceptance

Invalid configs (e.g., negative percents) raise a clear error.

CLI overrides (e.g., --risk.fees_bps 8) work.

Unit tests cover happy/invalid paths.

Background
Risk mgmt parameters (SL/TP/position sizing/drawdown limits) are explicitly called for in Step‑3. 