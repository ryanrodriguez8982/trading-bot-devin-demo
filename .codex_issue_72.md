# Issue #72: Portfolio & Position model (cash-only, spot)

---

Implement a Portfolio and Position model for spot-only trading.

Requirements:
- Track cash (quote currency), per-symbol positions, average cost, realized PnL, and equity.
- Methods: buy(symbol, qty, price, fee_bps=0) and sell(symbol, qty, price, fee_bps=0).
- Guards: disallow sells exceeding held quantity and prevent cash from dropping below zero.
- Fees: deducted from cash on buys and from proceeds on sells.

Integration:
- Backtester uses this model instead of ad-hoc "1 unit" logic.
- Live loop (simulation mode) uses the same model for consistency.

Tests:
- Buying reduces cash by price*qty + fees and increases position.
- Selling disallows more than held; valid sells reduce position, update cash, record realized PnL.
- Portfolio equity = cash + Î£(position_qty * last_price).
- Invariants: no leverage, cannot short, cannot sell unowned.

CLI wiring:
- Configurable default trade_size (fractional allowed) and optional fee_bps parameter.
- Flags documented in README or --help.

Lint: repo passes flake8.

Important: keep current strategies intact; only refactor execution/accounting to use the new model.
