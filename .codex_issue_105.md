# Issue #105: Portfolio & Position model (cash-only, spot)

---

Portfolio & Position model (Python module) supporting spot-only:

- Tracks cash (quote currency), positions per symbol, average cost, realized PnL, and equity.
- Methods: buy(symbol, qty, price, fee_bps=0), sell(symbol, qty, price, fee_bps=0).
- Guards: refuse sells if qty > position_qty; never reduce cash below zero.
- Fees deducted from cash on buys and from proceeds on sells.

Integration:
- Backtester uses this model instead of ad-hoc "1 unit" logic.
- Live loop (simulation mode) uses the same model for consistency.

Tests (pytest):
- Buying reduces cash by price*qty + fees and increases position.
- Selling disallows more than held; valid sells reduce position, update cash, record realized PnL.
- Portfolio equity = cash + Î£(position_qty * last_price).
- Invariants tested: no leverage, cannot short, cannot sell unowned.

CLI wiring:
- Configurable default trade_size (fractional allowed) and optional fee_bps parameter.
- Flags documented in README or --help.
